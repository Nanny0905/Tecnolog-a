<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Malla Curricular - TecnologÃ­a MÃ©dica</title>
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: 'Segoe UI', sans-serif;
      background-color: #fff5f8;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #d63384;
      color: white;
      padding: 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
    }
    header h1 {
      margin: 0;
      font-size: 1.5em;
    }
    #progress {
      font-size: 0.9em;
    }
    #resetBtn {
      background: white;
      color: #d63384;
      padding: 8px 12px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-weight: bold;
    }
    main {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      padding: 20px;
    }
    .ciclo {
      background: #ffe3ed;
      padding: 15px;
      border-radius: 12px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .ciclo h2 {
      text-align: center;
      margin-top: 0;
      color: #c2185b;
    }
    .curso {
      background: white;
      margin: 8px 0;
      padding: 10px;
      border-left: 5px solid #c2185b;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.2s;
    }
    .curso:hover {
      background: #fce4ec;
    }
    .aprobado {
      text-decoration: line-through;
      background-color: #d4edda;
      border-left-color: #28a745;
      color: #155724;
    }
    .bloqueado {
      background-color: #f8d7da;
      border-left-color: #c82333;
      color: #721c24;
      cursor: not-allowed;
    }
    .curso small {
      display: block;
      color: #555;
    }
  </style>
</head>
<body>
  <header>
    <h1>ðŸ§ª Malla Curricular - TecnologÃ­a MÃ©dica UCV</h1>
    <div id="progress">Progreso: 0% | CrÃ©ditos: 0</div>
    <button id="resetBtn">Reiniciar malla</button>
  </header>
  <main id="malla"></main>

  <script>
    const cursosData = [
      {
        ciclo: 'Ciclo I' ðŸ¥¼,
        cursos: [
          { nombre: 'Pensamiento LÃ³gico', creditos: 4.5 },
          { nombre: 'Habilidades Comunicativas', creditos: 4.5 },
          { nombre: 'Objetivos de Desarrollo Sostenible', creditos: 4 },
          { nombre: 'Fundamentos de Laboratorio ClÃ­nico', creditos: 5 },
          { nombre: 'InglÃ©s I', creditos: 2 },
          { nombre: 'ComputaciÃ³n I', creditos: 0 },
        ]
      },
      {
        ciclo: 'Ciclo II' ðŸ¥¼,
        cursos: [
          { nombre: 'Cambio ClimÃ¡tico y GestiÃ³n de Riesgos', creditos: 5 },
          { nombre: 'CÃ¡tedra Vallejo', creditos: 4 },
          { nombre: 'Salud PÃºblica', creditos: 5, prerequisitos: ['ComputaciÃ³n I'] },
          { nombre: 'QuÃ­mica InorgÃ¡nica y OrgÃ¡nica', creditos: 5 },
          { nombre: 'InglÃ©s II', creditos: 2, prerequisitos: ['InglÃ©s I'] },
          { nombre: 'ComputaciÃ³n II', creditos: 0, prerequisitos: ['ComputaciÃ³n I'] },
        ]
      },
      {
        ciclo: 'Ciclo III' ðŸ”¬,
        cursos: [
          { nombre: 'Creatividad e InnovaciÃ³n', creditos: 4.5 },
          { nombre: 'FilosofÃ­a y Ã‰tica', creditos: 4 },
          { nombre: 'BiologÃ­a Celular', creditos: 6.5, prerequisitos: ['ComputaciÃ³n II', 'QuÃ­mica InorgÃ¡nica y OrgÃ¡nica'] },
          { nombre: 'EstadÃ­stica y AnÃ¡lisis de Datos', creditos: 4 },
          { nombre: 'InglÃ©s III', creditos: 2, prerequisitos: ['InglÃ©s II'] },
          { nombre: 'ComputaciÃ³n III', creditos: 0, prerequisitos: ['ComputaciÃ³n II'] },
        ]
      },
      {
        ciclo: 'Ciclo IV' ðŸ§ª,
        cursos: [
          { nombre: 'MetodologÃ­a de la InvestigaciÃ³n CientÃ­fica', creditos: 4, prerequisitos: ['EstadÃ­stica y AnÃ¡lisis de Datos'] },
          { nombre: 'MorfofisiologÃ­a', creditos: 5 },
          { nombre: 'BioquÃ­mica y BiologÃ­a Molecular', creditos: 6 },
          { nombre: 'HistologÃ­a y EmbriologÃ­a', creditos: 5, prerequisitos: ['ComputaciÃ³n III'] },
          { nombre: 'InglÃ©s IV', creditos: 2, prerequisitos: ['InglÃ©s III'] },
        ]
      },
      {
        ciclo: 'Ciclo V' ðŸ©¸,
        cursos: [
          { nombre: 'ConstituciÃ³n y Derechos Humanos', creditos: 4 },
          { nombre: 'HematologÃ­a y Hemostasia', creditos: 6.5, prerequisitos: ['HistologÃ­a y EmbriologÃ­a'] },
          { nombre: 'BioquÃ­mica ClÃ­nica', creditos: 5, prerequisitos: ['BioquÃ­mica y BiologÃ­a Molecular'] },
          { nombre: 'EpidemiologÃ­a', creditos: 4.5 },
          { nombre: 'InglÃ©s V', creditos: 2, prerequisitos: ['InglÃ©s IV'] },
        ]
      },
      {
        ciclo: 'Ciclo VI' ðŸ§«,
        cursos: [
          { nombre: 'CitogenÃ©tica Humana', creditos: 3.5, prerequisitos: ['BioquÃ­mica y BiologÃ­a Molecular'] },
          { nombre: 'InmunologÃ­a', creditos: 6, prerequisitos: ['HematologÃ­a y Hemostasia'] },
          { nombre: 'BacteriologÃ­a y VirologÃ­a', creditos: 6.5, prerequisitos: ['BioquÃ­mica ClÃ­nica'] },
          { nombre: 'Experiencia Curricular Electiva', creditos: 4 },
          { nombre: 'InglÃ©s VI', creditos: 2, prerequisitos: ['InglÃ©s V'] },
        ]
      },
      {
        ciclo: 'Ciclo VII' ðŸ§¬,
        cursos: [
          { nombre: 'MicologÃ­a y ParasitologÃ­a', creditos: 7, prerequisitos: ['BacteriologÃ­a y VirologÃ­a'] },
          { nombre: 'GestiÃ³n de Calidad en Laboratorio ClÃ­nico', creditos: 3, prerequisitos: ['BioquÃ­mica ClÃ­nica'] },
          { nombre: 'TÃ©cnicas en AnatomÃ­a PatolÃ³gica', creditos: 5, prerequisitos: ['InmunologÃ­a'] },
          { nombre: 'FarmacologÃ­a y ToxicologÃ­a', creditos: 5, prerequisitos: ['BioquÃ­mica ClÃ­nica'] },
          { nombre: 'InglÃ©s VII', creditos: 2, prerequisitos: ['InglÃ©s VI'] },
        ]
      },
      {
        ciclo: 'Ciclo VIII' ðŸ©¸,
        cursos: [
          { nombre: 'HematologÃ­a ClÃ­nica y Medicina Transfusional', creditos: 7, prerequisitos: ['InmunologÃ­a'] },
          { nombre: 'CitopatologÃ­a', creditos: 4, prerequisitos: ['CitogenÃ©tica Humana', 'TÃ©cnicas en AnatomÃ­a PatolÃ³gica'] },
          { nombre: 'GestiÃ³n de Proyectos', creditos: 5 },
          { nombre: 'Experiencia Curricular Electiva', creditos: 4 },
          { nombre: 'InglÃ©s VIII', creditos: 2, prerequisitos: ['InglÃ©s VII'] },
        ]
      },
      {
        ciclo: 'Ciclo IX' ðŸ¥¼ðŸ”¬,
        cursos: [
          { nombre: 'Trabajo de InvestigaciÃ³n I', creditos: 4, prerequisitos: [
            'Objetivos de Desarrollo Sostenible','InglÃ©s I','CÃ¡tedra Vallejo','InglÃ©s II','InglÃ©s III','InglÃ©s IV','ConstituciÃ³n y Derechos Humanos','InglÃ©s V','InglÃ©s VI','FilosofÃ­a y Ã‰tica','InglÃ©s VII','InglÃ©s VIII','EstadÃ­stica y AnÃ¡lisis de Datos','MetodologÃ­a de la InvestigaciÃ³n CientÃ­fica','Pensamiento LÃ³gico','Habilidades Comunicativas','Cambio ClimÃ¡tico y GestiÃ³n de Riesgos','Salud PÃºblica','Creatividad e InnovaciÃ³n','MorfofisiologÃ­a','HistologÃ­a y EmbriologÃ­a','EpidemiologÃ­a','GestiÃ³n de Proyectos','Fundamentos de Laboratorio ClÃ­nico','QuÃ­mica InorgÃ¡nica y OrgÃ¡nica','BiologÃ­a Celular','BioquÃ­mica y BiologÃ­a Molecular','HematologÃ­a y Hemostasia','BioquÃ­mica ClÃ­nica','CitogenÃ©tica Humana','InmunologÃ­a','BacteriologÃ­a y VirologÃ­a','GestiÃ³n de Calidad en Laboratorio ClÃ­nico','MicologÃ­a y ParasitologÃ­a','TÃ©cnicas en AnatomÃ­a PatolÃ³gica','FarmacologÃ­a y ToxicologÃ­a','HematologÃ­a ClÃ­nica y Medicina Transfusional','CitopatologÃ­a'
          ] },
          { nombre: 'Internado I', creditos: 23, prerequisitos: [
            'Objetivos de Desarrollo Sostenible','InglÃ©s I','CÃ¡tedra Vallejo','InglÃ©s II','InglÃ©s III','InglÃ©s IV','ConstituciÃ³n y Derechos Humanos','InglÃ©s V','InglÃ©s VI','FilosofÃ­a y Ã‰tica','InglÃ©s VII','InglÃ©s VIII','EstadÃ­stica y AnÃ¡lisis de Datos','MetodologÃ­a de la InvestigaciÃ³n CientÃ­fica','Pensamiento LÃ³gico','Habilidades Comunicativas','Cambio ClimÃ¡tico y GestiÃ³n de Riesgos','Salud PÃºblica','Creatividad e InnovaciÃ³n','MorfofisiologÃ­a','HistologÃ­a y EmbriologÃ­a','EpidemiologÃ­a','GestiÃ³n de Proyectos','Fundamentos de Laboratorio ClÃ­nico','QuÃ­mica InorgÃ¡nica y OrgÃ¡nica','BiologÃ­a Celular','BioquÃ­mica y BiologÃ­a Molecular','HematologÃ­a y Hemostasia','BioquÃ­mica ClÃ­nica','CitogenÃ©tica Humana','InmunologÃ­a','BacteriologÃ­a y VirologÃ­a','GestiÃ³n de Calidad en Laboratorio ClÃ­nico','MicologÃ­a y ParasitologÃ­a','TÃ©cnicas en AnatomÃ­a PatolÃ³gica','FarmacologÃ­a y ToxicologÃ­a','HematologÃ­a ClÃ­nica y Medicina Transfusional','CitopatologÃ­a'
          ] },
          { nombre: 'InglÃ©s IX', creditos: 2, prerequisitos: ['InglÃ©s VIII'] },
        ]
      },
      {
        ciclo: 'Ciclo X' ðŸ¥¼ðŸ”¬,
        cursos: [
          { nombre: 'Trabajo de InvestigaciÃ³n II', creditos: 4, prerequisitos: ['Trabajo de InvestigaciÃ³n I'] },
          { nombre: 'Internado II', creditos: 23, prerequisitos: ['Internado I'] },
          { nombre: 'InglÃ©s X', creditos: 2, prerequisitos: ['InglÃ©s IX'] },
        ]
      }
    ];

    const aprobados = new Set();
    let totalCreditos = cursosData.flatMap(c => c.cursos).reduce((acc, cur) => acc + cur.creditos, 0);

    const puedeDesbloquear = prereqs => !prereqs || prereqs.every(p => aprobados.has(p));

    const render = () => {
      const malla = document.getElementById('malla');
      malla.innerHTML = '';
      let sumaAprobados = 0;

      cursosData.forEach(({ ciclo, cursos }) => {
        const cont = document.createElement('section');
        cont.className = 'ciclo';
        const h2 = document.createElement('h2');
        h2.textContent = ciclo;
        cont.appendChild(h2);

        cursos.forEach(({ nombre, creditos, prerequisitos = [] }) => {
          const div = document.createElement('div');
          div.className = 'curso';
          div.textContent = nombre;
          const small = document.createElement('small');
          small.textContent = `${creditos} crÃ©ditos`;
          div.appendChild(small);

          if (aprobados.has(nombre)) {
            div.classList.add('aprobado');
            sumaAprobados += creditos;
          } else if (!puedeDesbloquear(prerequisitos)) {
            div.classList.add('bloqueado');
          }

          div.onclick = () => {
            if (div.classList.contains('bloqueado')) return;
            if (aprobados.has(nombre)) {
              aprobados.delete(nombre);
            } else {
              aprobados.add(nombre);
            }
            render();
          };

          cont.appendChild(div);
        });

        malla.appendChild(cont);
      });

      const porcentaje = Math.round((sumaAprobados / totalCreditos) * 100);
      document.getElementById('progress').textContent = `Progreso: ${porcentaje}% | CrÃ©ditos: ${sumaAprobados}`;
    };

    document.getElementById('resetBtn').onclick = () => {
      aprobados.clear();
      render();
    };

    render();
  </script>
</body>
</html>
