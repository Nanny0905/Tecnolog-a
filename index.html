<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Malla Curricular - Tecnolog√≠a M√©dica (UCV)</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      padding: 20px;
    }
    h2 {
      margin-top: 40px;
      color: #0074b7;
    }
    .ciclo {
      margin-bottom: 30px;
    }
    .curso {
      background-color: white;
      border: 1px solid #ccc;
      padding: 10px;
      margin: 5px;
      border-radius: 8px;
      display: inline-block;
      cursor: pointer;
      transition: all 0.2s;
    }
    .curso:hover {
      background-color: #e6f7ff;
    }
    .aprobado {
      text-decoration: line-through;
      background-color: #d4edda;
      border-color: #28a745;
      color: #155724;
    }
    .bloqueado {
      background-color: #f8d7da;
      border-color: #f5c6cb;
      color: #721c24;
      cursor: not-allowed;
    }
  </style>
</head>
<body>
  <h1>Malla Curricular - Tecnolog√≠a M√©dica de Laboratorio Cl√≠nico (UCV)</h1>
  <div id="malla"></div>

  <script>
    const cursos = {
      'Ciclo I ü•º': [
        'Pensamiento L√≥gico',
        'Habilidades Comunicativas',
        'Objetivos de Desarrollo Sostenible',
        'Fundamentos de Laboratorio Cl√≠nico',
        'Ingl√©s I',
        'Computaci√≥n I',
      ],
      'Ciclo II ü•º': [
        ['Cambio Clim√°tico y Gesti√≥n de Riesgos'],
        ['C√°tedra Vallejo'],
        ['Salud P√∫blica', ['Computaci√≥n I']],
        ['Qu√≠mica Inorg√°nica y Org√°nica'],
        ['Ingl√©s II', ['Ingl√©s I']],
        ['Computaci√≥n II', ['Computaci√≥n I']],
      ],
      'Ciclo III üî¨': [
        ['Creatividad e Innovaci√≥n'],
        ['Filosof√≠a y √âtica'],
        ['Biolog√≠a Celular', ['Computaci√≥n II', 'Qu√≠mica Inorg√°nica y Org√°nica']],
        ['Estad√≠stica y An√°lisis de Datos'],
        ['Ingl√©s III', ['Ingl√©s II']],
        ['Computaci√≥n III', ['Computaci√≥n II']],
      ],
      'Ciclo IV üß™': [
        ['Metodolog√≠a de la Investigaci√≥n Cient√≠fica', ['Estad√≠stica y An√°lisis de Datos']],
        ['Morfofisiolog√≠a'],
        ['Bioqu√≠mica y Biolog√≠a Molecular'],
        ['Histolog√≠a y Embriolog√≠a', ['Computaci√≥n III']],
        ['Ingl√©s IV', ['Ingl√©s III']],
      ],
      'Ciclo V ü©∏': [
        ['Constituci√≥n y Derechos Humanos'],
        ['Hematolog√≠a y Hemostasia', ['Histolog√≠a y Embriolog√≠a']],
        ['Bioqu√≠mica Cl√≠nica', ['Bioqu√≠mica y Biolog√≠a Molecular']],
        ['Epidemiolog√≠a'],
        ['Ingl√©s V', ['Ingl√©s IV']],
      ],
      'Ciclo VI üß´': [
        ['Citogen√©tica Humana', ['Bioqu√≠mica y Biolog√≠a Molecular']],
        ['Inmunolog√≠a', ['Hematolog√≠a y Hemostasia']],
        ['Bacteriolog√≠a y Virolog√≠a', ['Bioqu√≠mica Cl√≠nica']],
        ['Experiencia Curricular Electiva'],
        ['Ingl√©s VI', ['Ingl√©s V']],
      ],
      'Ciclo VII üß¨': [
        ['Micolog√≠a y Parasitolog√≠a', ['Bacteriolog√≠a y Virolog√≠a']],
        ['Gesti√≥n de Calidad en Laboratorio Cl√≠nico', ['Bioqu√≠mica Cl√≠nica']],
        ['T√©cnicas en Anatom√≠a Patol√≥gica', ['Inmunolog√≠a']],
        ['Farmacolog√≠a y Toxicolog√≠a', ['Bioqu√≠mica Cl√≠nica']],
        ['Ingl√©s VII', ['Ingl√©s VI']],
      ],
      'Ciclo VIII ü©∏': [
        ['Hematolog√≠a Cl√≠nica y Medicina Transfusional', ['Inmunolog√≠a']],
        ['Citopatolog√≠a', ['Citogen√©tica Humana', 'T√©cnicas en Anatom√≠a Patol√≥gica']],
        ['Gesti√≥n de Proyectos'],
        ['Experiencia Curricular Electiva'],
        ['Ingl√©s VIII', ['Ingl√©s VII']],
      ],
      'Ciclo IX ü•ºüî¨': [
        ['Trabajo de Investigaci√≥n I', [
          'Objetivos de Desarrollo Sostenible','Ingl√©s I','C√°tedra Vallejo','Ingl√©s II','Ingl√©s III','Ingl√©s IV',
          'Constituci√≥n y Derechos Humanos','Ingl√©s V','Ingl√©s VI','Filosof√≠a y √âtica','Ingl√©s VII','Ingl√©s VIII',
          'Estad√≠stica y An√°lisis de Datos','Metodolog√≠a de la Investigaci√≥n Cient√≠fica','Pensamiento L√≥gico',
          'Habilidades Comunicativas','Cambio Clim√°tico y Gesti√≥n de Riesgos','Salud P√∫blica','Creatividad e Innovaci√≥n',
          'Morfofisiolog√≠a','Histolog√≠a y Embriolog√≠a','Epidemiolog√≠a','Gesti√≥n de Calidad en Laboratorio Cl√≠nico',
          'Fundamentos de Laboratorio Cl√≠nico','Qu√≠mica Inorg√°nica y Org√°nica','Biolog√≠a Celular','Bioqu√≠mica y Biolog√≠a Molecular',
          'Hematolog√≠a y Hemostasia','Bioqu√≠mica Cl√≠nica','Citogen√©tica Humana','Inmunolog√≠a','Bacteriolog√≠a y Virolog√≠a',
          'Micolog√≠a y Parasitolog√≠a','T√©cnicas en Anatom√≠a Patol√≥gica','Farmacolog√≠a y Toxicolog√≠a',
          'Hematolog√≠a Cl√≠nica y Medicina Transfusional','Citopatolog√≠a']
        ],
        ['Internado I', [
          'Objetivos de Desarrollo Sostenible','Ingl√©s I','C√°tedra Vallejo','Ingl√©s II','Ingl√©s III','Ingl√©s IV',
          'Constituci√≥n y Derechos Humanos','Ingl√©s V','Ingl√©s VI','Filosof√≠a y √âtica','Ingl√©s VII','Ingl√©s VIII',
          'Estad√≠stica y An√°lisis de Datos','Metodolog√≠a de la Investigaci√≥n Cient√≠fica','Pensamiento L√≥gico',
          'Habilidades Comunicativas','Cambio Clim√°tico y Gesti√≥n de Riesgos','Salud P√∫blica','Creatividad e Innovaci√≥n',
          'Morfofisiolog√≠a','Histolog√≠a y Embriolog√≠a','Epidemiolog√≠a','Gesti√≥n de Calidad en Laboratorio Cl√≠nico',
          'Fundamentos de Laboratorio Cl√≠nico','Qu√≠mica Inorg√°nica y Org√°nica','Biolog√≠a Celular','Bioqu√≠mica y Biolog√≠a Molecular',
          'Hematolog√≠a y Hemostasia','Bioqu√≠mica Cl√≠nica','Citogen√©tica Humana','Inmunolog√≠a','Bacteriolog√≠a y Virolog√≠a',
          'Micolog√≠a y Parasitolog√≠a','T√©cnicas en Anatom√≠a Patol√≥gica','Farmacolog√≠a y Toxicolog√≠a',
          'Hematolog√≠a Cl√≠nica y Medicina Transfusional','Citopatolog√≠a']
        ],
        ['Ingl√©s IX', ['Ingl√©s VIII']],
      ],
      'Ciclo X ü•ºüî¨': [
        ['Trabajo de Investigaci√≥n II', ['Trabajo de Investigaci√≥n I']],
        ['Internado II', ['Internado I']],
        ['Ingl√©s X', ['Ingl√©s IX']],
      ]
    };

    const aprobados = new Set();

    function puedeDesbloquear(prerequisitos) {
      return Array.isArray(prerequisitos) && prerequisitos.every(p => aprobados.has(p));
    }

    function renderMalla() {
      const cont = document.getElementById('malla');
      cont.innerHTML = '';
      for (const ciclo in cursos) {
        const div = document.createElement('div');
        div.className = 'ciclo';
        const h2 = document.createElement('h2');
        h2.textContent = 'üß™ ' + ciclo + ' üî¨';
        div.appendChild(h2);

        cursos[ciclo].forEach(curso => {
          let nombre, prereqs = [];
          if (typeof curso === 'string') {
            nombre = curso;
          } else {
            nombre = curso[0];
            prereqs = Array.isArray(curso[1]) ? curso[1] : [];
          }

          const span = document.createElement('span');
          span.className = 'curso';
          if (aprobados.has(nombre)) {
            span.classList.add('aprobado');
          } else if (prereqs.length && !puedeDesbloquear(prereqs)) {
            span.classList.add('bloqueado');
          }

          span.textContent = nombre;
          span.onclick = () => {
            if (span.classList.contains('bloqueado')) return;
            if (aprobados.has(nombre)) {
              aprobados.delete(nombre);
            } else {
              aprobados.add(nombre);
            }
            renderMalla();
          };

          div.appendChild(span);
        });
        cont.appendChild(div);
      }
    }

    renderMalla();
  </script>
</body>
</html>
